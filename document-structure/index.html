
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://maxleroy.github.io/document-structure/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>Document structure - Api specifications</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#document-structure" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Api specifications" class="md-header__button md-logo" aria-label="Api specifications" data-md-component="logo">
      
  <img src="../assets/images/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Api specifications
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Document structure
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Api specifications" class="md-nav__button md-logo" aria-label="Api specifications" data-md-component="logo">
      
  <img src="../assets/images/logo.svg" alt="logo">

    </a>
    Api specifications
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../content-negotiation/" class="md-nav__link">
        Content negotiation
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Document structure
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Document structure
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#document-structure" class="md-nav__link">
     Document Structure
  </a>
  
    <nav class="md-nav" aria-label=" Document Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#top-level" class="md-nav__link">
     Top Level
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-objects" class="md-nav__link">
     Resource Objects
  </a>
  
    <nav class="md-nav" aria-label=" Resource Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#identification" class="md-nav__link">
     Identification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
     Fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attributes" class="md-nav__link">
     Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relationships" class="md-nav__link">
     Relationships
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#related-resource-links" class="md-nav__link">
     Related Resource Links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-linkage" class="md-nav__link">
     Resource Linkage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-links" class="md-nav__link">
     Resource Links
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-identifier-objects" class="md-nav__link">
     Resource Identifier Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compound-documents" class="md-nav__link">
     Compound Documents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meta-information" class="md-nav__link">
     Meta Information
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#links" class="md-nav__link">
     Links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jsonapi-object" class="md-nav__link">
     JSON:API Object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#member-names" class="md-nav__link">
     Member Names
  </a>
  
    <nav class="md-nav" aria-label=" Member Names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allowed-characters" class="md-nav__link">
     Allowed Characters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reserved-characters" class="md-nav__link">
     Reserved Characters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fetching-data/" class="md-nav__link">
        Fetching data
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../crud/" class="md-nav__link">
        CRUD resources
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../query-parameters/" class="md-nav__link">
        Query parameters
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../errors/" class="md-nav__link">
        Errors
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#document-structure" class="md-nav__link">
     Document Structure
  </a>
  
    <nav class="md-nav" aria-label=" Document Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#top-level" class="md-nav__link">
     Top Level
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-objects" class="md-nav__link">
     Resource Objects
  </a>
  
    <nav class="md-nav" aria-label=" Resource Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#identification" class="md-nav__link">
     Identification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
     Fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attributes" class="md-nav__link">
     Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relationships" class="md-nav__link">
     Relationships
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#related-resource-links" class="md-nav__link">
     Related Resource Links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-linkage" class="md-nav__link">
     Resource Linkage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-links" class="md-nav__link">
     Resource Links
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-identifier-objects" class="md-nav__link">
     Resource Identifier Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compound-documents" class="md-nav__link">
     Compound Documents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meta-information" class="md-nav__link">
     Meta Information
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#links" class="md-nav__link">
     Links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jsonapi-object" class="md-nav__link">
     JSON:API Object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#member-names" class="md-nav__link">
     Member Names
  </a>
  
    <nav class="md-nav" aria-label=" Member Names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allowed-characters" class="md-nav__link">
     Allowed Characters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reserved-characters" class="md-nav__link">
     Reserved Characters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


  <h1>Document structure</h1>

<h2 id="document-structure"><a href="#document-structure" id="document-structure" class="headerlink"></a> Document Structure</h2>
<p>This section describes the structure of a JSON:API document, which is identified
by the media type <a href="http://www.iana.org/assignments/media-types/application/vnd.api+json"><code>application/vnd.api+json</code></a>.
JSON:API documents are defined in JavaScript Object Notation (JSON)
[<a href="http://tools.ietf.org/html/rfc7159">RFC7159</a>].</p>
<p>Although the same media type is used for both request and response documents,
certain aspects are only applicable to one or the other. These differences are
called out below.</p>
<p>Unless otherwise noted, objects defined by this specification <strong>MUST NOT</strong>
contain any additional members. Client and server implementations <strong>MUST</strong>
ignore members not recognized by this specification.</p>
<blockquote>
<p>Note: These conditions allow this specification to evolve through additive
changes.</p>
</blockquote>
<h3 id="top-level"><a href="#document-top-level" id="document-top-level" class="headerlink"></a> Top Level</h3>
<p>A JSON object <strong>MUST</strong> be at the root of every JSON:API request and response
containing data. This object defines a document's "top level".</p>
<p>A document <strong>MUST</strong> contain at least one of the following top-level members:</p>
<ul>
<li><code>data</code>: the document's "primary data"</li>
<li><code>errors</code>: an array of <a href="#errors">error objects</a></li>
<li><code>meta</code>: a [meta object][meta] that contains non-standard
  meta-information.</li>
</ul>
<p>The members <code>data</code> and <code>errors</code> <strong>MUST NOT</strong> coexist in the same document.</p>
<p>A document <strong>MAY</strong> contain any of these top-level members:</p>
<ul>
<li><code>jsonapi</code>: an object describing the server's implementation</li>
<li><code>links</code>: a [links object][links] related to the primary data.</li>
<li><code>included</code>: an array of [resource objects] that are related to the primary
  data and/or each other ("included resources").</li>
</ul>
<p>If a document does not contain a top-level <code>data</code> key, the <code>included</code> member
<strong>MUST NOT</strong> be present either.</p>
<p>The top-level [links object][links] <strong>MAY</strong> contain the following members:</p>
<ul>
<li><code>self</code>: the [link][links] that generated the current response document.</li>
<li><code>related</code>: a [related resource link] when the primary data represents a
  resource relationship.</li>
<li>[pagination] links for the primary data.</li>
</ul>
<p>The document's "primary data" is a representation of the resource or collection
of resources targeted by a request.</p>
<p>Primary data <strong>MUST</strong> be either:</p>
<ul>
<li>a single [resource object][resource objects], a single [resource identifier object], or <code>null</code>,
  for requests that target single resources</li>
<li>an array of [resource objects], an array of
  [resource identifier objects][resource identifier object], or
  an empty array (<code>[]</code>), for requests that target resource collections</li>
</ul>
<p>For example, the following primary data is a single resource object:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;type&quot;: &quot;articles&quot;,
    &quot;id&quot;: &quot;1&quot;,
    &quot;attributes&quot;: {
      // ... this article's attributes
    },
    &quot;relationships&quot;: {
      // ... this article's relationships
    }
  }
}
</code></pre>
<p>The following primary data is a single [resource identifier object] that
references the same resource:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;type&quot;: &quot;articles&quot;,
    &quot;id&quot;: &quot;1&quot;
  }
}
</code></pre>
<p>A logical collection of resources <strong>MUST</strong> be represented as an array, even if
it only contains one item or is empty.</p>
<h3 id="resource-objects"><a href="#document-resource-objects" id="document-resource-objects" class="headerlink"></a> Resource Objects</h3>
<p>"Resource objects" appear in a JSON:API document to represent resources.</p>
<p>A resource object <strong>MUST</strong> contain at least the following top-level members:</p>
<ul>
<li><code>id</code></li>
<li><code>type</code></li>
</ul>
<p>Exception: The <code>id</code> member is not required when the resource object originates at
the client and represents a new resource to be created on the server.</p>
<p>In addition, a resource object <strong>MAY</strong> contain any of these top-level members:</p>
<ul>
<li><code>attributes</code>: an [attributes object][attributes] representing some of the resource's data.</li>
<li><code>relationships</code>: a [relationships object][relationships] describing relationships between
  the resource and other JSON:API resources.</li>
<li><code>links</code>: a [links object][links] containing links related to the resource.</li>
<li><code>meta</code>: a [meta object][meta] containing non-standard meta-information about a
  resource that can not be represented as an attribute or relationship.</li>
</ul>
<p>Here's how an article (i.e. a resource of type "articles") might appear in a document:</p>
<pre><code class="language-json">// ...
{
  &quot;type&quot;: &quot;articles&quot;,
  &quot;id&quot;: &quot;1&quot;,
  &quot;attributes&quot;: {
    &quot;title&quot;: &quot;Rails is Omakase&quot;
  },
  &quot;relationships&quot;: {
    &quot;author&quot;: {
      &quot;links&quot;: {
        &quot;self&quot;: &quot;/articles/1/relationships/author&quot;,
        &quot;related&quot;: &quot;/articles/1/author&quot;
      },
      &quot;data&quot;: { &quot;type&quot;: &quot;people&quot;, &quot;id&quot;: &quot;9&quot; }
    }
  }
}
// ...
</code></pre>
<h4 id="identification"><a href="#document-resource-object-identification" id="document-resource-object-identification" class="headerlink"></a> Identification</h4>
<p>Every [resource object][resource objects] <strong>MUST</strong> contain an <code>id</code> member and a <code>type</code> member.
The values of the <code>id</code> and <code>type</code> members <strong>MUST</strong> be strings.</p>
<p>Within a given API, each resource object's <code>type</code> and <code>id</code> pair <strong>MUST</strong>
identify a single, unique resource. (The set of URIs controlled by a server,
or multiple servers acting as one, constitute an API.)</p>
<p>The <code>type</code> member is used to describe [resource objects] that share common
attributes and relationships.</p>
<p>The values of <code>type</code> members <strong>MUST</strong> adhere to the same constraints as
[member names].</p>
<blockquote>
<p>Note: This spec is agnostic about inflection rules, so the value of <code>type</code>
can be either plural or singular. However, the same value should be used
consistently throughout an implementation.</p>
</blockquote>
<h4 id="fields"><a href="#document-resource-object-fields" id="document-resource-object-fields" class="headerlink"></a> Fields</h4>
<p>A resource object's [attributes] and its [relationships] are collectively called
its "[fields]".</p>
<p>Fields for a [resource object][resource objects] <strong>MUST</strong> share a common namespace with each
other and with <code>type</code> and <code>id</code>. In other words, a resource can not have an
attribute and relationship with the same name, nor can it have an attribute
or relationship named <code>type</code> or <code>id</code>.</p>
<h4 id="attributes"><a href="#document-resource-object-attributes" id="document-resource-object-attributes" class="headerlink"></a> Attributes</h4>
<p>The value of the <code>attributes</code> key <strong>MUST</strong> be an object (an "attributes
object"). Members of the attributes object ("attributes") represent information
about the [resource object][resource objects] in which it's defined.</p>
<p>Attributes may contain any valid JSON value.</p>
<p>Complex data structures involving JSON objects and arrays are allowed as
attribute values. However, any object that constitutes or is contained in an
attribute <strong>MUST NOT</strong> contain a <code>relationships</code> or <code>links</code> member, as those
members are reserved by this specification for future use.</p>
<p>Although has-one foreign keys (e.g. <code>author_id</code>) are often stored internally
alongside other information to be represented in a resource object, these keys
<strong>SHOULD NOT</strong> appear as attributes.</p>
<blockquote>
<p>Note: See [fields] and [member names] for more restrictions on this container.</p>
</blockquote>
<h4 id="relationships"><a href="#document-resource-object-relationships" id="document-resource-object-relationships" class="headerlink"></a> Relationships</h4>
<p>The value of the <code>relationships</code> key <strong>MUST</strong> be an object (a "relationships
object"). Members of the relationships object ("relationships") represent
references from the [resource object][resource objects] in which it's defined to other resource
objects.</p>
<p>Relationships may be to-one or to-many.</p>
<p><a id="document-resource-object-relationships-relationship-object"></a>
A "relationship object" <strong>MUST</strong> contain at least one of the following:</p>
<ul>
<li><code>links</code>: a [links object][links] containing at least one of the following:<ul>
<li><code>self</code>: a link for the relationship itself (a "relationship link"). This
  link allows the client to directly manipulate the relationship. For example,
  removing an <code>author</code> through an <code>article</code>'s relationship URL would disconnect
  the person from the <code>article</code> without deleting the <code>people</code> resource itself.
  When fetched successfully, this link returns the [linkage][resource linkage]
  for the related resources as its primary data.
  (See <a href="#fetching-relationships">Fetching Relationships</a>.)</li>
<li><code>related</code>: a [related resource link]</li>
</ul>
</li>
<li><code>data</code>: [resource linkage]</li>
<li><code>meta</code>: a [meta object][meta] that contains non-standard meta-information about the
  relationship.</li>
</ul>
<p>A relationship object that represents a to-many relationship <strong>MAY</strong> also contain
[pagination] links under the <code>links</code> member, as described below. Any
[pagination] links in a relationship object <strong>MUST</strong> paginate the relationship
data, not the related resources.</p>
<blockquote>
<p>Note: See [fields] and [member names] for more restrictions on this container.</p>
</blockquote>
<h4 id="related-resource-links"><a href="#document-resource-object-related-resource-links" id="document-resource-object-related-resource-links" class="headerlink"></a> Related Resource Links</h4>
<p>A "related resource link" provides access to [resource objects][resource objects] [linked][links]
in a [relationship][relationships]. When fetched, the related resource object(s)
are returned as the response's primary data.</p>
<p>For example, an <code>article</code>'s <code>comments</code> [relationship][relationships] could
specify a [link][links] that returns a collection of comment [resource objects]
when retrieved through a <code>GET</code> request.</p>
<p>If present, a related resource link <strong>MUST</strong> reference a valid URL, even if the
relationship isn't currently associated with any target resources. Additionally,
a related resource link <strong>MUST NOT</strong> change because its relationship's content
changes.</p>
<h4 id="resource-linkage"><a href="#document-resource-object-linkage" id="document-resource-object-linkage" class="headerlink"></a> Resource Linkage</h4>
<p>Resource linkage in a [compound document] allows a client to link together all
of the included [resource objects] without having to <code>GET</code> any URLs via [links].</p>
<p>Resource linkage <strong>MUST</strong> be represented as one of the following:</p>
<ul>
<li><code>null</code> for empty to-one relationships.</li>
<li>an empty array (<code>[]</code>) for empty to-many relationships.</li>
<li>a single [resource identifier object] for non-empty to-one relationships.</li>
<li>an array of [resource identifier objects][resource identifier object] for non-empty to-many relationships.</li>
</ul>
<blockquote>
<p>Note: The spec does not impart meaning to order of resource identifier
objects in linkage arrays of to-many relationships, although implementations
may do that. Arrays of resource identifier objects may represent ordered
or unordered relationships, and both types can be mixed in one response
object.</p>
</blockquote>
<p>For example, the following article is associated with an <code>author</code>:</p>
<pre><code class="language-json">// ...
{
  &quot;type&quot;: &quot;articles&quot;,
  &quot;id&quot;: &quot;1&quot;,
  &quot;attributes&quot;: {
    &quot;title&quot;: &quot;Rails is Omakase&quot;
  },
  &quot;relationships&quot;: {
    &quot;author&quot;: {
      &quot;links&quot;: {
        &quot;self&quot;: &quot;http://example.com/articles/1/relationships/author&quot;,
        &quot;related&quot;: &quot;http://example.com/articles/1/author&quot;
      },
      &quot;data&quot;: { &quot;type&quot;: &quot;people&quot;, &quot;id&quot;: &quot;9&quot; }
    }
  },
  &quot;links&quot;: {
    &quot;self&quot;: &quot;http://example.com/articles/1&quot;
  }
}
// ...
</code></pre>
<p>The <code>author</code> relationship includes a link for the relationship itself (which
allows the client to change the related author directly), a related resource
link to fetch the resource objects, and linkage information.</p>
<h4 id="resource-links"><a href="#document-resource-object-links" id="document-resource-object-links" class="headerlink"></a> Resource Links</h4>
<p>The optional <code>links</code> member within each [resource object][resource objects] contains [links]
related to the resource.</p>
<p>If present, this links object <strong>MAY</strong> contain a <code>self</code> [link][links] that
identifies the resource represented by the resource object.</p>
<pre><code class="language-json">// ...
{
  &quot;type&quot;: &quot;articles&quot;,
  &quot;id&quot;: &quot;1&quot;,
  &quot;attributes&quot;: {
    &quot;title&quot;: &quot;Rails is Omakase&quot;
  },
  &quot;links&quot;: {
    &quot;self&quot;: &quot;http://example.com/articles/1&quot;
  }
}
// ...
</code></pre>
<p>A server <strong>MUST</strong> respond to a <code>GET</code> request to the specified URL with a
response that includes the resource as the primary data.</p>
<h3 id="resource-identifier-objects"><a href="#document-resource-identifier-objects" id="document-resource-identifier-objects" class="headerlink"></a> Resource Identifier Objects</h3>
<p>A "resource identifier object" is an object that identifies an individual
resource.</p>
<p>A "resource identifier object" <strong>MUST</strong> contain <code>type</code> and <code>id</code> members.</p>
<p>A "resource identifier object" <strong>MAY</strong> also include a <code>meta</code> member, whose value is a [meta] object that
contains non-standard meta-information.</p>
<h3 id="compound-documents"><a href="#document-compound-documents" id="document-compound-documents" class="headerlink"></a> Compound Documents</h3>
<p>To reduce the number of HTTP requests, servers <strong>MAY</strong> allow responses that
include related resources along with the requested primary resources. Such
responses are called "compound documents".</p>
<p>In a compound document, all included resources <strong>MUST</strong> be represented as an
array of [resource objects] in a top-level <code>included</code> member.</p>
<p>Compound documents require "full linkage", meaning that every included
resource <strong>MUST</strong> be identified by at least one [resource identifier object]
in the same document. These resource identifier objects could either be
primary data or represent resource linkage contained within primary or
included resources.</p>
<p>The only exception to the full linkage requirement is when relationship fields
that would otherwise contain linkage data are excluded via <a href="#fetching-sparse-fieldsets">sparse fieldsets</a>.</p>
<blockquote>
<p>Note: Full linkage ensures that included resources are related to either
the primary data (which could be [resource objects] or [resource identifier
objects][resource identifier object]) or to each other.</p>
</blockquote>
<p>A complete example document with multiple included relationships:</p>
<pre><code class="language-json">{
  &quot;data&quot;: [{
    &quot;type&quot;: &quot;articles&quot;,
    &quot;id&quot;: &quot;1&quot;,
    &quot;attributes&quot;: {
      &quot;title&quot;: &quot;JSON:API paints my bikeshed!&quot;
    },
    &quot;links&quot;: {
      &quot;self&quot;: &quot;http://example.com/articles/1&quot;
    },
    &quot;relationships&quot;: {
      &quot;author&quot;: {
        &quot;links&quot;: {
          &quot;self&quot;: &quot;http://example.com/articles/1/relationships/author&quot;,
          &quot;related&quot;: &quot;http://example.com/articles/1/author&quot;
        },
        &quot;data&quot;: { &quot;type&quot;: &quot;people&quot;, &quot;id&quot;: &quot;9&quot; }
      },
      &quot;comments&quot;: {
        &quot;links&quot;: {
          &quot;self&quot;: &quot;http://example.com/articles/1/relationships/comments&quot;,
          &quot;related&quot;: &quot;http://example.com/articles/1/comments&quot;
        },
        &quot;data&quot;: [
          { &quot;type&quot;: &quot;comments&quot;, &quot;id&quot;: &quot;5&quot; },
          { &quot;type&quot;: &quot;comments&quot;, &quot;id&quot;: &quot;12&quot; }
        ]
      }
    }
  }],
  &quot;included&quot;: [{
    &quot;type&quot;: &quot;people&quot;,
    &quot;id&quot;: &quot;9&quot;,
    &quot;attributes&quot;: {
      &quot;first-name&quot;: &quot;Dan&quot;,
      &quot;last-name&quot;: &quot;Gebhardt&quot;,
      &quot;twitter&quot;: &quot;dgeb&quot;
    },
    &quot;links&quot;: {
      &quot;self&quot;: &quot;http://example.com/people/9&quot;
    }
  }, {
    &quot;type&quot;: &quot;comments&quot;,
    &quot;id&quot;: &quot;5&quot;,
    &quot;attributes&quot;: {
      &quot;body&quot;: &quot;First!&quot;
    },
    &quot;relationships&quot;: {
      &quot;author&quot;: {
        &quot;data&quot;: { &quot;type&quot;: &quot;people&quot;, &quot;id&quot;: &quot;2&quot; }
      }
    },
    &quot;links&quot;: {
      &quot;self&quot;: &quot;http://example.com/comments/5&quot;
    }
  }, {
    &quot;type&quot;: &quot;comments&quot;,
    &quot;id&quot;: &quot;12&quot;,
    &quot;attributes&quot;: {
      &quot;body&quot;: &quot;I like XML better&quot;
    },
    &quot;relationships&quot;: {
      &quot;author&quot;: {
        &quot;data&quot;: { &quot;type&quot;: &quot;people&quot;, &quot;id&quot;: &quot;9&quot; }
      }
    },
    &quot;links&quot;: {
      &quot;self&quot;: &quot;http://example.com/comments/12&quot;
    }
  }]
}
</code></pre>
<p>A [compound document] <strong>MUST NOT</strong> include more than one [resource object][resource objects] for
each <code>type</code> and <code>id</code> pair.</p>
<blockquote>
<p>Note: In a single document, you can think of the <code>type</code> and <code>id</code> as a
composite key that uniquely references [resource objects] in another part of
the document.</p>
<p>Note: This approach ensures that a single canonical [resource object][resource objects] is
returned with each response, even when the same resource is referenced
multiple times.</p>
</blockquote>
<h3 id="meta-information"><a href="#document-meta" id="document-meta" class="headerlink"></a> Meta Information</h3>
<p>Where specified, a <code>meta</code> member can be used to include non-standard
meta-information. The value of each <code>meta</code> member <strong>MUST</strong> be an object (a
"meta object").</p>
<p>Any members <strong>MAY</strong> be specified within <code>meta</code> objects.</p>
<p>For example:</p>
<pre><code class="language-json">{
  &quot;meta&quot;: {
    &quot;copyright&quot;: &quot;Copyright 2015 Example Corp.&quot;,
    &quot;authors&quot;: [
      &quot;Yehuda Katz&quot;,
      &quot;Steve Klabnik&quot;,
      &quot;Dan Gebhardt&quot;,
      &quot;Tyler Kellen&quot;
    ]
  },
  &quot;data&quot;: {
    // ...
  }
}
</code></pre>
<h3 id="links"><a href="#document-links" id="document-links" class="headerlink"></a> Links</h3>
<p>Where specified, a <code>links</code> member can be used to represent links. The value
of each <code>links</code> member <strong>MUST</strong> be an object (a "links object").</p>
<p>Each member of a links object is a "link". A link <strong>MUST</strong> be represented as
either:</p>
<ul>
<li>a string containing the link's URL.</li>
<li><a id="document-links-link-object"></a>an object ("link object") which can
  contain the following members:<ul>
<li><code>href</code>: a string containing the link's URL.</li>
<li><code>meta</code>: a meta object containing non-standard meta-information about the
  link.</li>
</ul>
</li>
</ul>
<p>The following <code>self</code> link is simply a URL:</p>
<pre><code class="language-json">&quot;links&quot;: {
  &quot;self&quot;: &quot;http://example.com/posts&quot;
}
</code></pre>
<p>The following <code>related</code> link includes a URL as well as meta-information
about a related resource collection:</p>
<pre><code class="language-json">&quot;links&quot;: {
  &quot;related&quot;: {
    &quot;href&quot;: &quot;http://example.com/articles/1/comments&quot;,
    &quot;meta&quot;: {
      &quot;count&quot;: 10
    }
  }
}
</code></pre>
<blockquote>
<p>Note: Additional members may be specified for links objects and link
objects in the future. It is also possible that the allowed values of
additional members will be expanded (e.g. a <code>collection</code> link may support an
array of values, whereas a <code>self</code> link does not).</p>
</blockquote>
<h3 id="jsonapi-object"><a href="#document-jsonapi-object" id="document-jsonapi-object" class="headerlink"></a> JSON:API Object</h3>
<p>A JSON:API document <strong>MAY</strong> include information about its implementation
under a top level <code>jsonapi</code> member. If present, the value of the <code>jsonapi</code>
member <strong>MUST</strong> be an object (a "jsonapi object"). The jsonapi object <strong>MAY</strong>
contain a <code>version</code> member whose value is a string indicating the highest JSON
API version supported. This object <strong>MAY</strong> also contain a <code>meta</code> member, whose
value is a [meta] object that contains non-standard meta-information.</p>
<pre><code class="language-json">{
  &quot;jsonapi&quot;: {
    &quot;version&quot;: &quot;1.0&quot;
  }
}
</code></pre>
<p>If the <code>version</code> member is not present, clients should assume the server
implements at least version 1.0 of the specification.</p>
<blockquote>
<p>Note: Because JSON:API is committed to making additive changes only, the
version string primarily indicates which new features a server may support.</p>
</blockquote>
<h3 id="member-names"><a href="#document-member-names" id="document-member-names" class="headerlink"></a> Member Names</h3>
<p>All member names used in a JSON:API document <strong>MUST</strong> be treated as case sensitive
by clients and servers, and they <strong>MUST</strong> meet all of the following conditions:</p>
<ul>
<li>Member names <strong>MUST</strong> contain at least one character.</li>
<li>Member names <strong>MUST</strong> contain only the allowed characters listed below.</li>
<li>Member names <strong>MUST</strong> start and end with a "globally allowed character",
  as defined below.</li>
</ul>
<p>To enable an easy mapping of member names to URLs, it is <strong>RECOMMENDED</strong> that
member names use only non-reserved, URL safe characters specified in <a href="https://datatracker.ietf.org/doc/html/rfc3986#section-2.3">RFC 3986</a>.</p>
<h4 id="allowed-characters"><a href="#document-member-names-allowed-characters" id="document-member-names-allowed-characters" class="headerlink"></a> Allowed Characters</h4>
<p>The following "globally allowed characters" <strong>MAY</strong> be used anywhere in a member name:</p>
<ul>
<li>U+0061 to U+007A, "a-z"</li>
<li>U+0041 to U+005A, "A-Z"</li>
<li>U+0030 to U+0039, "0-9"</li>
<li>U+0080 and above (non-ASCII Unicode characters; <em>not recommended, not URL safe</em>)</li>
</ul>
<p>Additionally, the following characters are allowed in member names, except as the
first or last character:</p>
<ul>
<li>U+002D HYPHEN-MINUS, "-"</li>
<li>U+005F LOW LINE, "_"</li>
<li>U+0020 SPACE, " " <em>(not recommended, not URL safe)</em></li>
</ul>
<h4 id="reserved-characters"><a href="#document-member-names-reserved-characters" id="document-member-names-reserved-characters" class="headerlink"></a> Reserved Characters</h4>
<p>The following characters <strong>MUST NOT</strong> be used in member names:</p>
<ul>
<li>U+002B PLUS SIGN, "+" <em>(used for ordering)</em></li>
<li>U+002C COMMA, "," <em>(used as a separator between relationship paths)</em></li>
<li>U+002E PERIOD, "." <em>(used as a separator within relationship paths)</em></li>
<li>U+005B LEFT SQUARE BRACKET, "[" <em>(used in sparse fieldsets)</em></li>
<li>U+005D RIGHT SQUARE BRACKET, "]" <em>(used in sparse fieldsets)</em></li>
<li>U+0021 EXCLAMATION MARK, "!"</li>
<li>U+0022 QUOTATION MARK, '"'</li>
<li>U+0023 NUMBER SIGN, "#"</li>
<li>U+0024 DOLLAR SIGN, "$"</li>
<li>U+0025 PERCENT SIGN, "%"</li>
<li>U+0026 AMPERSAND, "&amp;"</li>
<li>U+0027 APOSTROPHE, "'"</li>
<li>U+0028 LEFT PARENTHESIS, "("</li>
<li>U+0029 RIGHT PARENTHESIS, ")"</li>
<li>U+002A ASTERISK, "&#x2a;"</li>
<li>U+002F SOLIDUS, "/"</li>
<li>U+003A COLON, ":"</li>
<li>U+003B SEMICOLON, ";"</li>
<li>U+003C LESS-THAN SIGN, "&lt;"</li>
<li>U+003D EQUALS SIGN, "="</li>
<li>U+003E GREATER-THAN SIGN, "&gt;"</li>
<li>U+003F QUESTION MARK, "?"</li>
<li>U+0040 COMMERCIAL AT, "@"</li>
<li>U+005C REVERSE SOLIDUS, "&#x5c;"</li>
<li>U+005E CIRCUMFLEX ACCENT, "^"</li>
<li>U+0060 GRAVE ACCENT, "&#x60;"</li>
<li>U+007B LEFT CURLY BRACKET, "{"</li>
<li>U+007C VERTICAL LINE, "&#x7c;"</li>
<li>U+007D RIGHT CURLY BRACKET, "}"</li>
<li>U+007E TILDE, "~"</li>
<li>U+007F DELETE</li>
<li>U+0000 to U+001F (C0 Controls)</li>
</ul>

              
            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../content-negotiation/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Content negotiation" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Content negotiation
            </div>
          </div>
        </a>
      
      
        
        <a href="../fetching-data/" class="md-footer__link md-footer__link--next" aria-label="Next: Fetching data" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Fetching data
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tracking", "navigation.sections", "navigation.top", "search.highlight"], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>